{"ast":null,"code":"var _jsxFileName = \"/home/sofi/Documentos/SpatialArdhi/src/components/NewUserForm.js\";\nimport React from \"react\";\nimport { Button, Form, FormGroup, Input, Label, Alert } from \"reactstrap\";\nimport { API_URL_PROFILES } from \"../constants\";\nimport clientAxios from '../config/axios';\n\nclass NewUserForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: \"\",\n      email: \"\",\n      organization: \"\",\n      bio: \"\",\n      password: \"\",\n      error: null\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.createUser = e => {\n      e.preventDefault();\n      var form = new FormData(document.forms.namedItem(\"user\"));\n      clientAxios.post(API_URL_PROFILES, form).then(() => {\n        this.props.toggle();\n      }).catch(error => console.log(error)\n      /*    this.setState({\n        error: \"Signin Error! \"\n      }) ); */\n      );\n    };\n\n    this.editUser = e => {\n      e.preventDefault();\n      clientAxios.put('profiles/' + this.props.user.id + '/', this.state).then(() => {\n        this.props.toggle();\n        this.props.resetState();\n      }).catch(error => this.setState({\n        error: \"Error! \"\n      }));\n    };\n\n    this.defaultIfEmpty = value => {\n      return value === \"\" ? \"\" : value;\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.user) {\n      const {\n        id,\n        name,\n        email,\n        bio,\n        organization,\n        password\n      } = this.props.user;\n      this.setState({\n        id,\n        name,\n        email,\n        bio,\n        organization,\n        password\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Form, {\n      name: \"user\",\n      onSubmit: this.props.user ? this.editUser : this.createUser,\n      encType: \"multipart/form-data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }, \"Email:\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"email\",\n      name: \"email\",\n      onChange: this.onChange,\n      value: this.defaultIfEmpty(this.state.email),\n      autoComplete: this.defaultIfEmpty(this.state.email),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, \"Name:\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"name\",\n      onChange: this.onChange,\n      value: this.defaultIfEmpty(this.state.name),\n      autoComplete: this.defaultIfEmpty(this.state.name),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"organization\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, \"Organization:\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"organization\",\n      onChange: this.onChange,\n      value: this.defaultIfEmpty(this.state.organization),\n      autoComplete: this.defaultIfEmpty(this.state.organization),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"bio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, \"Bio:\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"bio\",\n      onChange: this.onChange,\n      value: this.defaultIfEmpty(this.state.bio),\n      autoComplete: this.defaultIfEmpty(this.state.organization),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, \"Avatar\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"file\",\n      name: \"avatar\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, \"Password:\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      name: \"password\",\n      onChange: this.onChange,\n      value: this.defaultIfEmpty(this.state.password),\n      autoComplete: this.defaultIfEmpty(this.props.password),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    })), this.state.error ? /*#__PURE__*/React.createElement(Alert, {\n      color: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 14\n      }\n    }, \" \", this.state.error, \" \") : null, this.props.create ? /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      color: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, \"REGISTER\") : /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      color: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }\n    }, \"SAVE\"));\n  }\n\n}\n\nexport default NewUserForm;","map":{"version":3,"sources":["/home/sofi/Documentos/SpatialArdhi/src/components/NewUserForm.js"],"names":["React","Button","Form","FormGroup","Input","Label","Alert","API_URL_PROFILES","clientAxios","NewUserForm","Component","state","name","email","organization","bio","password","error","onChange","e","setState","target","value","createUser","preventDefault","form","FormData","document","forms","namedItem","post","then","props","toggle","catch","console","log","editUser","put","user","id","resetState","defaultIfEmpty","componentDidMount","render","create"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Button, Form, FormGroup, Input, Label, Alert } from \"reactstrap\";\n\nimport { API_URL_PROFILES } from \"../constants\";\nimport clientAxios from '../config/axios';\n\nclass NewUserForm extends React.Component {\n  state = {\n    name: \"\",\n    email: \"\",\n    organization:\"\",\n    bio:\"\",\n    password: \"\",\n    error: null\n  };\n\n  componentDidMount() {\n    if (this.props.user) {\n      const { id, name, email, bio, organization, password } = this.props.user;\n      this.setState({ id, name,  email , bio, organization, password});\n    }\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  createUser = e => {\n    e.preventDefault();\n    var form = new FormData(document.forms.namedItem(\"user\"));\n    clientAxios.post(API_URL_PROFILES, form).then(() => {\n      this.props.toggle();\n    }).catch(error =>\n      console.log(error)\n    /*    this.setState({\n      error: \"Signin Error! \"\n    }) ); */\n    )\n  };\n\n  editUser = e => {\n    e.preventDefault();\n    clientAxios.put('profiles/'+this.props.user.id+'/',this.state ).then(() => {\n      this.props.toggle();\n      this.props.resetState();\n    }).catch(error => this.setState({\n      error: \"Error! \"\n    }));\n  };\n  \n  defaultIfEmpty = value => {\n    return value === \"\" ? \"\" : value;\n  };\n\n  render() {\n    return (\n      <Form name=\"user\" onSubmit={this.props.user ? this.editUser : this.createUser} encType=\"multipart/form-data\">\n         <FormGroup>\n          <Label for=\"email\">Email:</Label>\n          <Input\n            type=\"email\"\n            name=\"email\"\n            onChange={this.onChange}\n            value={this.defaultIfEmpty(this.state.email)}\n            autoComplete={this.defaultIfEmpty(this.state.email)}\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"name\">Name:</Label>\n          <Input\n            type=\"text\"\n            name=\"name\"\n            onChange={this.onChange}\n            value={this.defaultIfEmpty(this.state.name)}\n            autoComplete={this.defaultIfEmpty(this.state.name)}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <Label for=\"organization\">Organization:</Label>\n          <Input\n            type=\"text\"\n            name=\"organization\"\n            onChange={this.onChange}\n            value={this.defaultIfEmpty(this.state.organization)}\n            autoComplete={this.defaultIfEmpty(this.state.organization)}\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"bio\">Bio:</Label>\n          <Input\n            type=\"text\"\n            name=\"bio\"\n            onChange={this.onChange}\n            value={this.defaultIfEmpty(this.state.bio)}\n            autoComplete= {this.defaultIfEmpty(this.state.organization)}\n          />\n        </FormGroup>\n       \t<FormGroup>\n          <Label for=\"avatar\">Avatar</Label>\n          <Input\n            type=\"file\"\n            name=\"avatar\"\n            onChange={this.onChange}\n          />\n        </FormGroup>\n\t <FormGroup>\n          <Label for=\"password\">Password:</Label>\n          <Input\n            type=\"password\"\n            name=\"password\"\n            onChange={this.onChange}\n            value={this.defaultIfEmpty(this.state.password)}\n            autoComplete= {this.defaultIfEmpty(this.props.password)}\n          />\n        </FormGroup>\n        { this.state.error ? \n             <Alert  color=\"danger\"> {this.state.error} </Alert>  :\n             null\n            }\n        {this.props.create ? \n        <Button\n          type=\"submit\" \n          color=\"danger\"\n        >REGISTER</Button> :\n        <Button\n          type=\"submit\" \n          color=\"danger\"\n        >SAVE</Button>\n      }\n      </Form>\n    );\n  }\n}\n\nexport default NewUserForm;\n"]},"metadata":{},"sourceType":"module"}