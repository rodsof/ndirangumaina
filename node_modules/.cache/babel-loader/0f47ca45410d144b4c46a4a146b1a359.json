{"ast":null,"code":"import _defineProperty from\"/home/sofi/Documentos/SpatialArdhi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/sofi/Documentos/SpatialArdhi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/sofi/Documentos/SpatialArdhi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/sofi/Documentos/SpatialArdhi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/sofi/Documentos/SpatialArdhi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Button,Form,FormGroup,Input,Label}from\"reactstrap\";import clientAxios from'../config/axios';var NewPropertyForm=/*#__PURE__*/function(_React$Component){_inherits(NewPropertyForm,_React$Component);var _super=_createSuper(NewPropertyForm);function NewPropertyForm(){var _this;_classCallCheck(this,NewPropertyForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={title:\"\",image:\"\",video:\"\"};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.createProperty=function(e){e.preventDefault();var form=new FormData(document.forms.namedItem(\"realEstate\"));form.append(\"user_profile\",_this.props.user.id);clientAxios.post('data/?format=json',form,{params:{id:_this.props.user.id}}).then(function(){_this.props.toggle();});};_this.editProperty=function(e){e.preventDefault();var form=new FormData(document.forms.namedItem(\"realEstate\"));clientAxios.put('data/'+_this.props.result.id+'/',form).then(function(){_this.props.toggle();});};_this.defaultIfEmpty=function(value){return value===\"\"?\"\":value;};return _this;}_createClass(NewPropertyForm,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.property){var _this$props$result=this.props.result,id=_this$props$result.id,title=_this$props$result.title,image=_this$props$result.image,video=_this$props$result.video;this.setState({id:id,title:title,image:image,video:video});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Form,{name:\"realEstate\",onSubmit:this.props.result?this.editProperty:this.createProperty,encType:\"multipart/form-data\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"title\"},\"Title:\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"title\",onChange:this.onChange,value:this.defaultIfEmpty(this.state.title)})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"image\"},\"Image:\"),/*#__PURE__*/React.createElement(Input,{type:\"file\",name:\"image\",onChange:this.onChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"phone\"},\"Video:\"),/*#__PURE__*/React.createElement(Input,{type:\"file\",name:\"video\",onChange:this.onChange})),/*#__PURE__*/React.createElement(Button,{color:\"danger\"},\"UPLOAD\"));}}]);return NewPropertyForm;}(React.Component);export default NewPropertyForm;","map":{"version":3,"sources":["/home/sofi/Documentos/SpatialArdhi/src/components/NewPropertyForm.js"],"names":["React","Button","Form","FormGroup","Input","Label","clientAxios","NewPropertyForm","state","title","image","video","onChange","e","setState","target","name","value","createProperty","preventDefault","form","FormData","document","forms","namedItem","append","props","user","id","post","params","then","toggle","editProperty","put","result","defaultIfEmpty","property","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Button, Form, FormGroup, Input, Label } from \"reactstrap\";\n\nimport clientAxios from '../config/axios'\n\n\nclass NewPropertyForm extends React.Component {\n  state = {\n    title: \"\",\n    image: \"\",\n    video: \"\"\n  };\n\n  componentDidMount() {\n    if (this.props.property) {\n      const { id, title, image, video } = this.props.result;\n      this.setState({ id, title, image, video });\n    }\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  createProperty = e => {\n    e.preventDefault();\n    var form = new FormData(document.forms.namedItem(\"realEstate\"));\n    form.append(\"user_profile\",this.props.user.id);\n    clientAxios.post('data/?format=json',form, { params: { id: this.props.user.id } } ).then(() => {\n      this.props.toggle();\n    });\n  };\n\n  editProperty = e => {\n    e.preventDefault();\n    var form = new FormData(document.forms.namedItem(\"realEstate\"));\n    clientAxios.put('data/'+this.props.result.id+'/', form ).then(() => {\n      this.props.toggle();\n    });\n  };\n\n  defaultIfEmpty = value => {\n    return value === \"\" ? \"\" : value;\n  };\n  render() {\n\n    return (\n      <Form name=\"realEstate\" onSubmit={this.props.result ? this.editProperty : this.createProperty} encType=\"multipart/form-data\">\n        <FormGroup>\n          <Label for=\"title\">Title:</Label>\n          <Input\n            type=\"text\"\n            name=\"title\"\n            onChange={this.onChange}\n            value={this.defaultIfEmpty(this.state.title)}\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"image\">Image:</Label>\n          <Input\n            type=\"file\"\n            name=\"image\"\n            onChange={this.onChange}\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"phone\">Video:</Label>\n          <Input\n            type=\"file\"\n            name=\"video\"\n            onChange={this.onChange}\n          />\n        </FormGroup>\n        <Button\n          color=\"danger\"\n        >UPLOAD</Button>\n      </Form>\n    );\n  }\n}\n\nexport default NewPropertyForm;"]},"metadata":{},"sourceType":"module"}