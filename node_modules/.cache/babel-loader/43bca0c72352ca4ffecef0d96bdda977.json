{"ast":null,"code":"var _jsxFileName = \"/home/sofi/Documentos/SpatialArdhi/src/components/NewPropertyForm.js\";\nimport React from \"react\";\nimport { Button, Form, FormGroup, Input, Label } from \"reactstrap\";\nimport clientAxios from '../config/axios';\n\nclass NewPropertyForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: \"\",\n      image: \"\",\n      video: \"\"\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.createProperty = e => {\n      e.preventDefault();\n      var form = new FormData(document.forms.namedItem(\"realEstate\"));\n      form.append(\"user_profile\", this.props.user.id);\n      clientAxios.post('data/?format=json', form, {\n        params: {\n          id: this.props.user.id\n        }\n      }).then(() => {\n        this.props.toggle(); // this.props.resetState(); VER PARA BORRARTODO\n      });\n    };\n\n    this.editProperty = e => {\n      e.preventDefault();\n      var form = new FormData(document.forms.namedItem(\"realEstate\"));\n      clientAxios.put('data/' + this.props.result.id + '/', form).then(() => {\n        this.props.toggle();\n        this.props.resetState();\n      });\n    };\n\n    this.defaultIfEmpty = value => {\n      return value === \"\" ? \"\" : value;\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.property) {\n      const {\n        id,\n        title,\n        image,\n        video\n      } = this.props.result;\n      this.setState({\n        id,\n        title,\n        image,\n        video\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Form, {\n      name: \"realEstate\",\n      onSubmit: this.props.result ? this.editProperty : this.createProperty,\n      encType: \"multipart/form-data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }, \"Title:\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"title\",\n      onChange: this.onChange,\n      value: this.defaultIfEmpty(this.state.title),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, \"Image:\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"file\",\n      name: \"image\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"phone\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, \"Video:\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"file\",\n      name: \"video\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      color: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, \"UPLOAD\"));\n  }\n\n}\n\nexport default NewPropertyForm;","map":{"version":3,"sources":["/home/sofi/Documentos/SpatialArdhi/src/components/NewPropertyForm.js"],"names":["React","Button","Form","FormGroup","Input","Label","clientAxios","NewPropertyForm","Component","state","title","image","video","onChange","e","setState","target","name","value","createProperty","preventDefault","form","FormData","document","forms","namedItem","append","props","user","id","post","params","then","toggle","editProperty","put","result","resetState","defaultIfEmpty","componentDidMount","property","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Button, Form, FormGroup, Input, Label } from \"reactstrap\";\n\nimport clientAxios from '../config/axios'\n\n\nclass NewPropertyForm extends React.Component {\n  state = {\n    title: \"\",\n    image: \"\",\n    video: \"\"\n  };\n\n  componentDidMount() {\n    if (this.props.property) {\n      const { id, title, image, video } = this.props.result;\n      this.setState({ id, title, image, video });\n    }\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  createProperty = e => {\n    e.preventDefault();\n    var form = new FormData(document.forms.namedItem(\"realEstate\"));\n    form.append(\"user_profile\",this.props.user.id);\n    clientAxios.post('data/?format=json',form, { params: { id: this.props.user.id } } ).then(() => {\n      this.props.toggle();\n      // this.props.resetState(); VER PARA BORRARTODO\n    });\n  };\n\n  editProperty = e => {\n    e.preventDefault();\n    var form = new FormData(document.forms.namedItem(\"realEstate\"));\n    clientAxios.put('data/'+this.props.result.id+'/', form ).then(() => {\n      this.props.toggle();\n      this.props.resetState();\n    });\n  };\n\n  defaultIfEmpty = value => {\n    return value === \"\" ? \"\" : value;\n  };\n\n  render() {\n    return (\n      <Form name=\"realEstate\" onSubmit={this.props.result ? this.editProperty : this.createProperty} encType=\"multipart/form-data\">\n        <FormGroup>\n          <Label for=\"title\">Title:</Label>\n          <Input\n            type=\"text\"\n            name=\"title\"\n            onChange={this.onChange}\n            value={this.defaultIfEmpty(this.state.title)}\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"image\">Image:</Label>\n          <Input\n            type=\"file\"\n            name=\"image\"\n            onChange={this.onChange}\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"phone\">Video:</Label>\n          <Input\n            type=\"file\"\n            name=\"video\"\n            onChange={this.onChange}\n          />\n        </FormGroup>\n        <Button\n          color=\"danger\"\n        >UPLOAD</Button>\n      </Form>\n    );\n  }\n}\n\nexport default NewPropertyForm;"]},"metadata":{},"sourceType":"module"}