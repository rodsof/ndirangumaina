{"ast":null,"code":"import _defineProperty from\"/home/sofi/Documentos/SpatialArdhi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/sofi/Documentos/SpatialArdhi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/sofi/Documentos/SpatialArdhi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/sofi/Documentos/SpatialArdhi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/sofi/Documentos/SpatialArdhi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Button,Form,FormGroup,Input,Label,Alert}from\"reactstrap\";import{API_URL_PROFILES}from\"../constants\";import clientAxios from'../config/axios';import axios from\"axios\";var NewUserForm=/*#__PURE__*/function(_React$Component){_inherits(NewUserForm,_React$Component);var _super=_createSuper(NewUserForm);function NewUserForm(){var _this;_classCallCheck(this,NewUserForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:\"\",email:\"\",organization:\"\",bio:\"\",password:\"\",user_type:\"\",error:null,message:null};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.createUser=function(e){e.preventDefault();var form=new FormData(document.forms.namedItem(\"user\"));axios.post(API_URL_PROFILES,form).then(function(){_this.setState({error:null,message:\"Great! Now you can login\"});_this.props.toggle();}).catch(function(error){return _this.setState({error:\"Signin Error! \"});});};_this.editUser=function(e){e.preventDefault();clientAxios.put('profiles/'+_this.props.user.id+'/',_this.state).then(function(){_this.props.toggle();}).catch(function(error){return _this.setState({error:\"Error! \"});});};_this.defaultIfEmpty=function(value){return value===\"\"?\"\":value;};return _this;}_createClass(NewUserForm,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.user){var _this$props$user=this.props.user,id=_this$props$user.id,name=_this$props$user.name,email=_this$props$user.email,bio=_this$props$user.bio,organization=_this$props$user.organization,password=_this$props$user.password;this.setState({id:id,name:name,email:email,bio:bio,organization:organization,password:password});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Form,{name:\"user\",onSubmit:this.props.user?this.editUser:this.createUser,encType:\"multipart/form-data\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"email\"},\"Email:\"),/*#__PURE__*/React.createElement(Input,{type:\"email\",name:\"email\",onChange:this.onChange,value:this.defaultIfEmpty(this.state.email),autoComplete:this.defaultIfEmpty(this.state.email)}),/*#__PURE__*/React.createElement(Input,{type:\"hidden\",name:\"user_type\",value:this.defaultIfEmpty(this.state.user_type),autoComplete:this.defaultIfEmpty(this.state.user_type)})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"name\"},\"Name:\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"name\",onChange:this.onChange,value:this.defaultIfEmpty(this.state.name),autoComplete:this.defaultIfEmpty(this.state.name)})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"organization\"},\"Organization:\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"organization\",onChange:this.onChange,value:this.defaultIfEmpty(this.state.organization),autoComplete:this.defaultIfEmpty(this.state.organization)})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"bio\"},\"Bio:\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"bio\",onChange:this.onChange,value:this.defaultIfEmpty(this.state.bio),autoComplete:this.defaultIfEmpty(this.state.organization)})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"avatar\"},\"Avatar\"),/*#__PURE__*/React.createElement(Input,{type:\"file\",name:\"avatar\",onChange:this.onChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"password\"},\"Password:\"),/*#__PURE__*/React.createElement(Input,{type:\"password\",name:\"password\",onChange:this.onChange,value:this.defaultIfEmpty(this.state.password),autoComplete:this.defaultIfEmpty(this.props.password)})),this.state.error?/*#__PURE__*/React.createElement(Alert,{color:\"danger\"},\" \",this.state.error,\" \"):null,this.state.message?/*#__PURE__*/React.createElement(Alert,{color:\"success\"},\" \",this.state.message,\" \"):null,this.props.create?/*#__PURE__*/React.createElement(Button,{type:\"submit\",color:\"danger\"},\"REGISTER\"):/*#__PURE__*/React.createElement(Button,{type:\"submit\",color:\"danger\"},\"SAVE\"));}}]);return NewUserForm;}(React.Component);export default NewUserForm;","map":{"version":3,"sources":["/home/sofi/Documentos/SpatialArdhi/src/components/NewUserForm.js"],"names":["React","Button","Form","FormGroup","Input","Label","Alert","API_URL_PROFILES","clientAxios","axios","NewUserForm","state","name","email","organization","bio","password","user_type","error","message","onChange","e","setState","target","value","createUser","preventDefault","form","FormData","document","forms","namedItem","post","then","props","toggle","catch","editUser","put","user","id","defaultIfEmpty","create","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Button, Form, FormGroup, Input, Label, Alert } from \"reactstrap\";\n\nimport { API_URL_PROFILES } from \"../constants\";\nimport clientAxios from '../config/axios';\nimport axios from \"axios\";\n\nclass NewUserForm extends React.Component {\n  state = {\n    name: \"\",\n    email: \"\",\n    organization:\"\",\n    bio:\"\",\n    password: \"\",\n    user_type: \"\",\n    error: null,\n    message: null\n  };\n\n  componentDidMount() {\n    if (this.props.user) {\n      const { id, name, email, bio, organization, password } = this.props.user;\n      this.setState({ id, name,  email , bio, organization, password});\n    }\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  createUser = e => {\n    e.preventDefault();\n    var form = new FormData(document.forms.namedItem(\"user\"));\n    \n    axios.post(API_URL_PROFILES, form).then(() => {\n      this.setState({\n        error: null,\n        message: \"Great! Now you can login\"\n      })\n      this.props.toggle();\n    }).catch(error =>\n      this.setState({\n      error: \"Signin Error! \"\n    }) ); \n    \n  };\n\n  editUser = e => {\n    e.preventDefault();\n    clientAxios.put('profiles/'+this.props.user.id+'/',this.state ).then(() => {\n      this.props.toggle();\n    }).catch(error => this.setState({\n      error: \"Error! \"\n    }));\n  };\n  \n  defaultIfEmpty = value => {\n    return value === \"\" ? \"\" : value;\n  };\n\n  render() {\n    return (\n      <Form name=\"user\" onSubmit={this.props.user ? this.editUser : this.createUser} encType=\"multipart/form-data\">\n         <FormGroup>\n          <Label for=\"email\">Email:</Label>\n          <Input\n            type=\"email\"\n            name=\"email\"\n            onChange={this.onChange}\n            value={this.defaultIfEmpty(this.state.email)}\n            autoComplete={this.defaultIfEmpty(this.state.email)}\n          />\n                 <Input\n            type=\"hidden\"\n            name=\"user_type\"\n            value={this.defaultIfEmpty(this.state.user_type)}\n            autoComplete={this.defaultIfEmpty(this.state.user_type)}\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"name\">Name:</Label>\n          <Input\n            type=\"text\"\n            name=\"name\"\n            onChange={this.onChange}\n            value={this.defaultIfEmpty(this.state.name)}\n            autoComplete={this.defaultIfEmpty(this.state.name)}\n          />\n        </FormGroup>\n\n        <FormGroup>\n          <Label for=\"organization\">Organization:</Label>\n          <Input\n            type=\"text\"\n            name=\"organization\"\n            onChange={this.onChange}\n            value={this.defaultIfEmpty(this.state.organization)}\n            autoComplete={this.defaultIfEmpty(this.state.organization)}\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"bio\">Bio:</Label>\n          <Input\n            type=\"text\"\n            name=\"bio\"\n            onChange={this.onChange}\n            value={this.defaultIfEmpty(this.state.bio)}\n            autoComplete= {this.defaultIfEmpty(this.state.organization)}\n          />\n        </FormGroup>\n       \t<FormGroup>\n          <Label for=\"avatar\">Avatar</Label>\n          <Input\n            type=\"file\"\n            name=\"avatar\"\n            onChange={this.onChange}\n          />\n        </FormGroup>\n\t <FormGroup>\n          <Label for=\"password\">Password:</Label>\n          <Input\n            type=\"password\"\n            name=\"password\"\n            onChange={this.onChange}\n            value={this.defaultIfEmpty(this.state.password)}\n            autoComplete= {this.defaultIfEmpty(this.props.password)}\n          />\n        </FormGroup>\n        { this.state.error ? \n             <Alert  color=\"danger\"> {this.state.error} </Alert>  :\n             null\n            }\n               { this.state.message ? \n             <Alert  color=\"success\"> {this.state.message} </Alert>  :\n             null\n            }\n        {this.props.create ? \n        <Button\n          type=\"submit\" \n          color=\"danger\"\n        >REGISTER</Button> :\n        <Button\n          type=\"submit\" \n          color=\"danger\"\n        >SAVE</Button>\n      }\n      </Form>\n    );\n  }\n}\n\nexport default NewUserForm;\n"]},"metadata":{},"sourceType":"module"}