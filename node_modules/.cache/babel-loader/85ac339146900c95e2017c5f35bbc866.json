{"ast":null,"code":"import _defineProperty from\"/home/sofi/Documentos/SpatialArdhi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/sofi/Documentos/SpatialArdhi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/sofi/Documentos/SpatialArdhi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Button,Form,FormGroup,Input,Label,Alert}from\"reactstrap\";import NewUserModal from\"./NewUserModal\";import AuthContext from\"../context/auth/AuthContext\";import{useContext}from\"react\";import{Link}from\"react-router-dom\";var Login=function Login(props){var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),userLogin=_useState2[0],saveUser=_useState2[1];// destructuring\nvar email=userLogin.email,password=userLogin.password;// if password or user doesn't exist\nvar authContext=useContext(AuthContext);var message=authContext.message,login=authContext.login,user=authContext.user,autenticated=authContext.autenticated,autenticatedUser=authContext.autenticatedUser;useEffect(function(){autenticatedUser();if(autenticated){if(user)props.history.push('/home');}// eslint-disable-next-line\n},[message,autenticated,props.history,user]);var onChange=function onChange(e){saveUser(_objectSpread(_objectSpread({},userLogin),{},_defineProperty({},e.target.name,e.target.value)));};// when login\nvar onSubmit=function onSubmit(e){e.preventDefault();// send to action\nlogin({email:email,password:password});};return/*#__PURE__*/React.createElement(\"div\",{className:\"limiter\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-login100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wrap-login100\"},/*#__PURE__*/React.createElement(Form,{id:\"login\",onSubmit:onSubmit,encType:\"multipart/form-data\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"email\"},\"Email:\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"email\",onChange:onChange,value:email})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"password\"},\"Password:\"),/*#__PURE__*/React.createElement(Input,{type:\"password\",name:\"password\",onChange:onChange,value:password})),message?/*#__PURE__*/React.createElement(Alert,{color:\"danger\"},\" \",message,\" \"):null,/*#__PURE__*/React.createElement(Button,{color:\"danger\",type:\"submit\"},\"LOGIN\")),/*#__PURE__*/React.createElement(NewUserModal,{create:true,user:user}),/*#__PURE__*/React.createElement(Link,{className:\"text-danger\",to:\"/reset-password\"},\" Forgot your password? \"))));};export default Login;","map":{"version":3,"sources":["/home/sofi/Documentos/SpatialArdhi/src/components/Login.js"],"names":["React","useEffect","useState","Button","Form","FormGroup","Input","Label","Alert","NewUserModal","AuthContext","useContext","Link","Login","props","email","password","userLogin","saveUser","authContext","message","login","user","autenticated","autenticatedUser","history","push","onChange","e","target","name","value","onSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button, Form, FormGroup, Input, Label, Alert } from \"reactstrap\";\nimport NewUserModal from \"./NewUserModal\";\nimport AuthContext from \"../context/auth/AuthContext\";\nimport { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nconst Login = (props) => {\n\n  const [userLogin, saveUser] = useState({\n    email: '',\n    password: ''\n  });\n\n  // destructuring\n  const { email, password } = userLogin;\n  // if password or user doesn't exist\n  const authContext = useContext(AuthContext)\n  const { message, login, user, autenticated, autenticatedUser } = authContext\n  useEffect(() => {\n    autenticatedUser()\n    if (autenticated) {\n      if(user)\n      props.history.push('/home');\n    }\n    \n    // eslint-disable-next-line\n  }, [message, autenticated, props.history, user]);\n\n  const onChange = e => {\n    saveUser({\n      ...userLogin,\n      [e.target.name]: e.target.value\n    })\n  }\n\n \n  // when login\n  const onSubmit = e => {\n    e.preventDefault();\n    // send to action\n    login({ email, password });\n  }\n\n\n  return (\n    <div className=\"limiter\">\n      <div className=\"container-login100\">\n        <div className=\"wrap-login100\">\n          <Form id=\"login\" onSubmit={onSubmit} encType=\"multipart/form-data\">\n            <FormGroup>\n              <Label for=\"email\">Email:</Label>\n              <Input\n                type=\"text\"\n                name=\"email\"\n                onChange={onChange}\n                value={email}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"password\">Password:</Label>\n              <Input\n                type=\"password\"\n                name=\"password\"\n                onChange={onChange}\n                value={password}\n              />\n            </FormGroup>\n            {message ?\n              <Alert color=\"danger\"> {message} </Alert> :\n              null\n            }\n            <Button color=\"danger\" type=\"submit\">LOGIN</Button>\n\n          </Form>\n          <NewUserModal\n              create={true}\n              user={user}\n            />\n          <Link className=\"text-danger\" to=\"/reset-password\"> Forgot your password? </Link>\n        </div>\n      </div>\n    </div>\n  );\n\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}