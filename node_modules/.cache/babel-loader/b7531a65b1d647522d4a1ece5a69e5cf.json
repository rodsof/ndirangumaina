{"ast":null,"code":"import _slicedToArray from\"/home/sofi/Documentos/SpatialArdhi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{TransitionGroup}from\"react-transition-group\";import Result from\"./Result\";import{CardColumns}from\"reactstrap\";import{slice,concat}from'lodash';var Results=function Results(_ref){var results=_ref.results,active=_ref.active;var LIMIT;if(active===\"realEstate\"){LIMIT=3;}else{LIMIT=9;}var LENGTH=results.length;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showMore=_useState2[0],setShowMore=_useState2[1];var _useState3=useState(slice(results,0,LIMIT)),_useState4=_slicedToArray(_useState3,2),list=_useState4[0],setList=_useState4[1];var _useState5=useState(LIMIT),_useState6=_slicedToArray(_useState5,2),index=_useState6[0],setIndex=_useState6[1];useEffect(function(){if(results.length>0)setList(slice(results,0,LIMIT));},[results,LIMIT]);var loadMore=function loadMore(){var newIndex=index+LIMIT;var newShowMore=newIndex<LENGTH-1;var newList=concat(list,slice(results,index,newIndex));setIndex(newIndex);setList(newList);setShowMore(newShowMore);};return/*#__PURE__*/React.createElement(\"section\",{className:\"property-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"section-title\"},/*#__PURE__*/React.createElement(\"h2\",null,\"RESULTS \")),results.length===0?/*#__PURE__*/React.createElement(\"li\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"h3\",null,\"No results\")):/*#__PURE__*/React.createElement(TransitionGroup,null,/*#__PURE__*/React.createElement(CardColumns,null,list.map(function(result){return/*#__PURE__*/React.createElement(Result,{key:result.id,result:result,active:active});})),showMore&&/*#__PURE__*/React.createElement(\"button\",{onClick:loadMore,className:\"site-btn btn-danger\"},\" Load More \"))));};export default Results;","map":{"version":3,"sources":["/home/sofi/Documentos/SpatialArdhi/src/components/Results.js"],"names":["React","useState","useEffect","TransitionGroup","Result","CardColumns","slice","concat","Results","results","active","LIMIT","LENGTH","length","showMore","setShowMore","list","setList","index","setIndex","loadMore","newIndex","newShowMore","newList","map","result","id"],"mappings":"yJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,eAAT,KAAgC,wBAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,OACEC,KADF,CACSC,MADT,KAEO,QAFP,CAKA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAuB,IAArBC,CAAAA,OAAqB,MAArBA,OAAqB,CAAZC,MAAY,MAAZA,MAAY,CACrC,GAAIC,CAAAA,KAAJ,CACA,GAAID,MAAM,GAAK,YAAf,CAA6B,CAC3BC,KAAK,CAAG,CAAR,CACD,CAFD,IAGK,CACJA,KAAK,CAAG,CAAR,CACA,CACD,GAAMC,CAAAA,MAAM,CAAGH,OAAO,CAACI,MAAvB,CARqC,cASNZ,QAAQ,CAAC,IAAD,CATF,wCAS9Ba,QAT8B,eASrBC,WATqB,8BAUdd,QAAQ,CAACK,KAAK,CAACG,OAAD,CAAU,CAAV,CAAaE,KAAb,CAAN,CAVM,yCAU9BK,IAV8B,eAUzBC,OAVyB,8BAWZhB,QAAQ,CAACU,KAAD,CAXI,yCAW9BO,KAX8B,eAWxBC,QAXwB,eAarCjB,SAAS,CAAC,UAAM,CACd,GAAGO,OAAO,CAACI,MAAR,CAAe,CAAlB,CACEI,OAAO,CAACX,KAAK,CAACG,OAAD,CAAU,CAAV,CAAaE,KAAb,CAAN,CAAP,CACH,CAHQ,CAGP,CAACF,OAAD,CAAUE,KAAV,CAHO,CAAT,CAMA,GAAMS,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAK,CACpB,GAAMC,CAAAA,QAAQ,CAAGH,KAAK,CAAGP,KAAzB,CACA,GAAMW,CAAAA,WAAW,CAAGD,QAAQ,CAAIT,MAAM,CAAG,CAAzC,CACA,GAAMW,CAAAA,OAAO,CAAGhB,MAAM,CAACS,IAAD,CAAOV,KAAK,CAACG,OAAD,CAAUS,KAAV,CAAiBG,QAAjB,CAAZ,CAAtB,CACAF,QAAQ,CAACE,QAAD,CAAR,CACAJ,OAAO,CAACM,OAAD,CAAP,CACAR,WAAW,CAACO,WAAD,CAAX,CACD,CAPD,CASA,mBACE,+BAAS,SAAS,CAAC,kBAAnB,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,eAAf,eACE,yCADF,CADF,CAIGb,OAAO,CAACI,MAAR,GAAmB,CAAnB,cACC,0BAAI,SAAS,CAAC,UAAd,eACE,2CADF,CADD,cAKC,oBAAC,eAAD,mBACE,oBAAC,WAAD,MACGG,IAAI,CAACQ,GAAL,CAAS,SAACC,MAAD,qBACR,oBAAC,MAAD,EACA,GAAG,CAAGA,MAAM,CAACC,EADb,CAEA,MAAM,CAAED,MAFR,CAGA,MAAM,CAAEf,MAHR,EADQ,EAAT,CADH,CADF,CAUGI,QAAQ,eAAI,8BAAQ,OAAO,CAAEM,QAAjB,CAA2B,SAAS,CAAC,qBAArC,gBAVf,CATJ,CADF,CADF,CA4BD,CAxDD,CA0DA,cAAeZ,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { TransitionGroup } from \"react-transition-group\";\nimport Result from \"./Result\";\nimport { CardColumns } from \"reactstrap\";\nimport {\n  slice, concat, \n} from 'lodash';\n\n\nconst Results = ({results, active}) => {\n  var LIMIT;\n  if( active === \"realEstate\") {\n    LIMIT = 3;\n  }\n  else {\n   LIMIT = 9;\n  }\n  const LENGTH = results.length;\n  const [showMore,setShowMore] = useState(true);\n  const [list,setList] = useState(slice(results, 0, LIMIT));\n  const [index,setIndex] = useState(LIMIT);\n\n  useEffect(() => {\n    if(results.length>0)\n      setList(slice(results, 0, LIMIT));\n  },[results, LIMIT]);\n\n\n  const loadMore = () =>{\n    const newIndex = index + LIMIT;\n    const newShowMore = newIndex < (LENGTH - 1);\n    const newList = concat(list, slice(results, index, newIndex));\n    setIndex(newIndex);\n    setList(newList);\n    setShowMore(newShowMore);\n  }\n\n  return (\n    <section className=\"property-section\">\n      <div className=\"container\">\n        <div className=\"section-title\">\n          <h2>RESULTS </h2>\n        </div>\n        {results.length === 0 ? (\n          <li className=\"col-lg-4\">\n            <h3>No results</h3>\n          </li>\n        ) : (\n          <TransitionGroup>\n            <CardColumns>\n              {list.map((result) => (\n                <Result \n                key={ result.id }\n                result={result} \n                active={active}\n                />\n              ))}\n            </CardColumns>\n            {showMore && <button onClick={loadMore} className=\"site-btn btn-danger\"> Load More </button>}\n\n          </TransitionGroup>\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default Results;\n"]},"metadata":{},"sourceType":"module"}