{"ast":null,"code":"var _jsxFileName = \"/home/sofi/Documentos/SpatialArdhi/src/components/Login.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Form, FormGroup, Input, Label, Alert } from \"reactstrap\";\nimport NewUserModal from \"./NewUserModal\";\nimport AuthContext from \"../context/auth/AuthContext\";\nimport { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Login = props => {\n  const [userLogin, saveUser] = useState({\n    email: '',\n    password: ''\n  }); // destructuring\n\n  const {\n    email,\n    password\n  } = userLogin; // if password or user doesn't exist\n\n  const authContext = useContext(AuthContext);\n  const {\n    message,\n    login,\n    user,\n    autenticated,\n    autenticatedUser\n  } = authContext;\n  useEffect(() => {\n    autenticatedUser();\n\n    if (autenticated) {\n      if (user) props.history.push('/home');\n    } // eslint-disable-next-line\n\n  }, [message, autenticated, props.history]);\n\n  const onChange = e => {\n    saveUser({ ...userLogin,\n      [e.target.name]: e.target.value\n    });\n  }; // when login\n\n\n  const onSubmit = e => {\n    e.preventDefault(); // send to action\n\n    login({\n      email,\n      password\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"limiter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-login100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrap-login100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    id: \"login\",\n    onSubmit: onSubmit,\n    encType: \"multipart/form-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"email\",\n    onChange: onChange,\n    value: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, \"Password:\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    name: \"password\",\n    onChange: onChange,\n    value: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  })), message ? /*#__PURE__*/React.createElement(Alert, {\n    color: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, \" \", message, \" \") : null, /*#__PURE__*/React.createElement(Button, {\n    color: \"danger\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"LOGIN\")), /*#__PURE__*/React.createElement(NewUserModal, {\n    create: true,\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    className: \"text-danger\",\n    to: \"/reset-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \" Forgot your password? \"))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/sofi/Documentos/SpatialArdhi/src/components/Login.js"],"names":["React","useEffect","useState","Button","Form","FormGroup","Input","Label","Alert","NewUserModal","AuthContext","useContext","Link","Login","props","userLogin","saveUser","email","password","authContext","message","login","user","autenticated","autenticatedUser","history","push","onChange","e","target","name","value","onSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button, Form, FormGroup, Input, Label, Alert } from \"reactstrap\";\nimport NewUserModal from \"./NewUserModal\";\nimport AuthContext from \"../context/auth/AuthContext\";\nimport { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nconst Login = (props) => {\n\n  const [userLogin, saveUser] = useState({\n    email: '',\n    password: ''\n  });\n\n  // destructuring\n  const { email, password } = userLogin;\n  // if password or user doesn't exist\n  const authContext = useContext(AuthContext)\n  const { message, login, user, autenticated, autenticatedUser } = authContext\n  useEffect(() => {\n    autenticatedUser()\n    if (autenticated) {\n      if(user)\n      props.history.push('/home');\n    }\n    \n    // eslint-disable-next-line\n  }, [message, autenticated, props.history]);\n\n  const onChange = e => {\n    saveUser({\n      ...userLogin,\n      [e.target.name]: e.target.value\n    })\n  }\n\n \n  // when login\n  const onSubmit = e => {\n    e.preventDefault();\n    // send to action\n    login({ email, password });\n  }\n\n\n  return (\n    <div className=\"limiter\">\n      <div className=\"container-login100\">\n        <div className=\"wrap-login100\">\n          <Form id=\"login\" onSubmit={onSubmit} encType=\"multipart/form-data\">\n            <FormGroup>\n              <Label for=\"email\">Email:</Label>\n              <Input\n                type=\"text\"\n                name=\"email\"\n                onChange={onChange}\n                value={email}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"password\">Password:</Label>\n              <Input\n                type=\"password\"\n                name=\"password\"\n                onChange={onChange}\n                value={password}\n              />\n            </FormGroup>\n            {message ?\n              <Alert color=\"danger\"> {message} </Alert> :\n              null\n            }\n            <Button color=\"danger\" type=\"submit\">LOGIN</Button>\n\n          </Form>\n          <NewUserModal\n              create={true}\n              user={user}\n            />\n          <Link className=\"text-danger\" to=\"/reset-password\"> Forgot your password? </Link>\n        </div>\n      </div>\n    </div>\n  );\n\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}